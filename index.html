<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>粵普通 Pro (原型)</title>
    <!-- 修正了樣式表連結 -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">
        <h1>粵普通 Pro 粵普學習助手</h1>

        <div class="main-converter">
            <!-- 將輸入框改回美觀的 textarea -->
            <textarea id="cantoInput" placeholder="請直接輸入普通話句子..."></textarea>
            <!-- 更改按鈕文字，使其更貼合功能 -->
            <button id="convertBtn" class="btn-primary">生成拼音與練習</button>

            <div id="resultArea" class="hidden">
                <h2>轉換結果：</h2>
                <div class="result-card">
                    <div class="result-header">
                        <span>普通話說法</span>
                        <div class="controls">
                            <!-- 將按鈕改回圖標，更美觀 -->
                            <button id="speakBtn" title="朗讀">🔊</button>
                            <button id="saveBtn" title="收藏此句">⭐</button>
                        </div>
                    </div>
                    <p id="mandarinOutput"></p>
                </div>
                <div class="result-card">
                    <div class="result-header"><span>拼音</span></div>
                    <p id="pinyinOutput"></p>
                </div>
            </div>
        </div>

        <div class="recorder-section hidden">
            <h2>跟讀練習</h2>
            <div class="recorder-controls">
                <button id="recordBtn">🎤 開始錄音</button>
                <button id="stopBtn" disabled>⏹️ 停止錄音</button>
            </div>
            <p id="recordingStatus"></p>
            <audio id="audioPlayback" controls class="hidden"></audio>
        </div>

        <div class="review-section">
            <h2>溫習字詞庫 (已收藏 <span id="savedCount">0</span> 個)</h2>
            <div class="filter-controls">
                <span>篩選易混淆音：</span>
                <button class="filter-btn" data-filter="all">全部</button>
                <button class="filter-btn" data-filter="z_zh">z / zh</button>
                <button class="filter-btn" data-filter="s_sh">s / sh</button>
                <button class="filter-btn" data-filter="c_ch">c / ch</button>
                <button class="filter-btn" data-filter="n_l">n / l</button>
                <button class="filter-btn" data-filter="ing_in">ing / in</button>
            </div>
            <div id="reviewList">
                <p>暫無收藏。</p>
            </div>
        </div>
    </div>

    <!-- 關鍵改動：從本地加載拼音庫 -->
    <script src="pinyin-pro.js"></script>
    <!-- 再加載我們自己的主邏輯腳本 -->
    <script src="script.js"></script>
</body>
</html>
